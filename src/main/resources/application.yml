server:
  port: 8085
  servlet:
    encoding:
      enabled: true
      charset: UTF-8
      force: true

spring:
  datasource:
    url: jdbc:mysql://10.12.251.118:3306/travel?characterEncoding=utf8&characterSetResults=utf8&autoReconnect=true&failOverReadOnly=false
    username: root
    password: Weaver#9#3
    driver-class-name: com.mysql.jdbc.Driver
    hikari:
      idle-timeout: 60000
      maximum-pool-size: 30
      minimum-idle: 10
  application:
    name: travel_projectma
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
  cache:
    type: redis
    redis:
      time-to-live: 360000 # 缓存过期时间，单位为毫秒
  redis:
    host: 127.0.0.1
    port: 6379
    password:
    database: 0
    timeout: 2000
    lettuce:
      pool:
        max-active: 8 # 连接池最大连接数
        max-wait: -1 # 连接池最大阻塞等待时间，-1表示没有限制
        max-idle: 8 # 连接池中的最大空闲连接数
        min-idle: 0 # 连接池中的最小空闲连接数

  flyway:
    #启用 Flyway 数据库迁移功能
    enabled: true
    #指定 SQL 脚本的存放路径为 resources/db 目录
    locations: classpath:db/migration
    #指定 SQL 文件的前缀为 V，例如 V1__init.sql
    sql-migration-prefix: V
    #指定 SQL 文件的后缀为 .sql，例如 V1__init.sql
    sql-migration-suffixes: .sql
    #如果数据库不是空表，需要设置为true，否则启动报错
    baseline-on-migrate: true
    #禁止清理数据库
    clean-disabled: true
    #指定 Flyway 历史表的名称为 flyway_schema_history
    table: flyway_schema_history

mycache:
  cache-configs:
    grade: 30s # 缓存过期时间，单位为秒
    version: 60s # 缓存版本过期时间，单位为秒

springdoc:
  api-docs:
    enabled: true
  server:
    host: "http://localhost:${server.port}"
  swagger-ui:
    doc-expansion: false
    enabled: true



#作用是配置 Spring Boot Actuator 中的管理端点，使所有的 Actuator 端点对外暴露
#  Actuator 端点：Spring Boot Actuator 提供了一系列的监控和管理端点，例如 /actuator/health（健康检查）、/actuator/info（应用信息）等。
#  include="*"：表示暴露所有可用的 Actuator 端点。如果不设置，默认只暴露少量端点（如 health 和 info）。
#  用途：便于开发和调试时查看应用的运行状态、性能指标等
management:
  endpoints:
    web:
      exposure:
        include: "*"

mybatis-plus:
  mapper-locations: classpath*:mapper/*.xml
  # xml中编写sql时不用给全路径类名
  type-aliases-package: com.example.travel_project.**.entity
  configuration:
    # 下划线驼峰转换
    map-underscore-to-camel-case: true
    lazy-loading-enabled: true
    aggressive-lazy-loading: false


#日志配置
logging:
  level:
    root: INFO
    com.example.travel_project: DEBUG
  file:
    name: logs/travel_project.log

